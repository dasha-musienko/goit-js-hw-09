{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,WAAYC,SAASC,cAAc,uBACnCC,UAAWF,SAASC,cAAc,sBAClCE,YAAaH,SAASC,cAAc,wBACpCG,UAAWJ,SAASC,cAAc,WAsCpC,SAASI,EAAcC,EAAUC,GAC/B,MAAMC,EAAgBC,KAAKC,SAAW,GAEtC,OAAO,IAAIC,SAAQ,CAACC,EAASC,KAC3BC,YAAW,KACLN,EACFI,EAAQ,C,SAACN,E,MAAUC,IAEnBM,EAAO,C,SAACP,E,MAAUC,GAAO,GAE1BA,EAAM,G,CAgBb,SAASQ,IACPjB,EAAKC,WAAWiB,MAAQ,GACxBlB,EAAKI,UAAUc,MAAQ,GACvBlB,EAAKK,YAAYa,MAAQ,E,CAhE3BlB,EAAKM,UAAUa,iBAAiB,SAEhC,SAA+BC,GAC7BA,EAAIC,iBACJ,IAAIC,EAAQC,OAAOvB,EAAKC,WAAWiB,OACnC,MAAMM,EAAOD,OAAOvB,EAAKI,UAAUc,OAC7BO,EAASF,OAAOvB,EAAKK,YAAYa,OAGvC,GAAII,EAAQ,GAAKE,EAAO,GAAKC,GAAU,EAGrC,OAqCJ,SAAuBhB,EAAOe,EAAMC,GAC9BhB,EAAQ,GACViB,EAAA5B,GAAS6B,OAAOC,QAAQ,wCAEtBJ,EAAO,GACTE,EAAA5B,GAAS6B,OAAOC,QAAQ,wCAEtBH,GAAU,GACZC,EAAA5B,GAAS6B,OAAOC,QAAQ,8B,CA/CxBC,CAAcP,EAAOE,EAAMC,QAC3BR,IAKF,IAAK,IAAIa,EAAW,EAAGA,GAAYL,EAAQK,GAAY,EAGrDvB,EAAcuB,EAAUR,GACvBS,MAAK,EAACvB,SAAEA,EAAQC,MAAEA,MACjBiB,EAAA5B,GAAS6B,OAAOK,QAAQ,uBAAqBxB,QAAiBC,MAAU,IAEzEwB,OAAM,EAACzB,SAAEA,EAAQC,MAAEA,MAClBiB,EAAA5B,GAAS6B,OAAOO,QAAQ,sBAAoB1B,QAAeC,MAAU,IAGvEa,GAASE,EAGbR,WAAWC,EAAcK,E","sources":["src/js/03-promises.js"],"sourcesContent":["import Notiflix from 'notiflix';\n\nconst refs = {\n  delayInput: document.querySelector(\"input[name='delay']\"),\n  stepInput: document.querySelector(\"input[name='step']\"),\n  amountInput: document.querySelector(\"input[name='amount']\"),\n  submitBtn: document.querySelector(\"button\"),\n}\n\nrefs.submitBtn.addEventListener('click', submitBtnClickHandler)\n\nfunction submitBtnClickHandler(evt) {\n  evt.preventDefault();\n  let delay = Number(refs.delayInput.value);\n  const step = Number(refs.stepInput.value);\n  const amount = Number(refs.amountInput.value);\n\n  \n  if (delay < 0 || step < 0 || amount <= 0 ) {\n    validatesForm(delay, step, amount)\n    clearsInputs();\n    return\n  }\n\n\n  for (let position = 1; position <= amount; position += 1) {\n\n\n    createPromise(position, delay)\n    .then(({ position, delay }) => {\n      Notiflix.Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`);\n    })\n    .catch(({ position, delay }) => {\n      Notiflix.Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`);\n    });\n  \n    delay += step\n}\n\nsetTimeout(clearsInputs, delay)\n\n}\n\n\nfunction createPromise(position, delay) {\n  const shouldResolve = Math.random() > 0.3;\n  \n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      if (shouldResolve) {\n        resolve({position, delay});\n      } else {\n        reject({position, delay});\n      }\n    }, delay);\n  });\n}\n\nfunction validatesForm(delay, step, amount) {\n  if (delay < 0) {\n    Notiflix.Notify.warning('Enter number equal or greater than 0');\n  }\n  if (step < 0) {\n    Notiflix.Notify.warning('Enter number equal or greater than 0');\n  }\n  if (amount <= 0) {\n    Notiflix.Notify.warning('Enter number greater than 0');\n  }\n}\n\nfunction clearsInputs () {\n  refs.delayInput.value = \"\";\n  refs.stepInput.value = \"\";\n  refs.amountInput.value = \"\";\n}"],"names":["$7Y9D8","parcelRequire","$47d4ff9957288465$var$refs","delayInput","document","querySelector","stepInput","amountInput","submitBtn","$47d4ff9957288465$var$createPromise","position","delay","shouldResolve","Math","random","Promise","resolve","reject","setTimeout","$47d4ff9957288465$var$clearsInputs","value","addEventListener","evt","preventDefault","delay1","Number","step","amount","$parcel$interopDefault","Notify","warning","$47d4ff9957288465$var$validatesForm","position1","then","success","catch","failure"],"version":3,"file":"03-promises.889ab78d.js.map"}